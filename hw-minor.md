# Домашнее задание 1

# Задача 1

Для проверки задач на МТ удобно использовать этот сервис (http://matinf.igpu.ru/simulator/tm.html)

Установите начальное состояние q2 и желаемую конифгурацию, не забудьте нажать под обоими полями ввода кнопки "Установить" и в множестве состояний выбрать состояния с q1 по q12. Вместо пустого символа "#" используется символ "B".

Сначала сотрем все нули справа. Потом мы окажемся на строке вида: "...###0^{n}1^{m}###..."

Теперь будем стирать крайние единицы справа и парные им крайние нули слева, пример:
```
"00011"
"0001#"
"#001#"
"##0##"
```
Если на каком-то шаге нам не будет хватать:

* 1, то нужно идти влево, попутно стирая все, и записать на ленте "1"
* 0, то нужно идти вправо, попутно стирая все, и записать на ленте "0"

```
Bq1->Bq2R
0q2->0q2R
1q2->1q3R
1q3->1q3R
0q3->0q4R
0q4->0q4R
Bq4->Bq5L
0q5->Bq5L // удаляем все правые нули
1q5->Bq6L // удаляем крайнюю справа 1
1q6->1q6L // проходим влево по единицам
0q6->0q7L // проходим влево по нулям
0q7->0q7L 
Bq7->Bq8R
0q8->Bq9R // удаляем крайний слева 0
0q9->0q9R // идем к крайней справа единице и повторяем
1q9->1q10R
1q10->1q10R
Bq10->Bq5L

// идем вправо, удаляя единицы и возвращая 0
Bq6->Bq11R
1q11->Bq11R
Bq11->0STOPL

// идем влево, удаляя нули и возвращая 1
Bq9->Bq12L
0q12->Bq12L
Bq12->1STOPL

// особый случай: k=0
Bq3->Bq5L

// особый случай: m=0
Bq2->Bq12L
```

# Задача 2

Будем сверять первый и последний символ в текущей строке, а потом удалять их, получая новую подстроку и повторяя предыдущие действия. Если в какой-то момент первый и последний символы не совпадают, то стираем строку, возвращаем 0. Если дошли до пустой строки, то возвращаем 1.

```
Bq1->Bq2R
// крайний левый символ -- 1
1q2->Bq3R
0q3->0q3R
1q3->1q3R
Bq3->Bq4L
1q4->Bq5L // проверили правый, совпал, идем обратно

// крайний левый символ -- 0
0q2->Bq6R
0q6->0q6R
1q6->1q6R
Bq6->Bq7L
0q7->Bq5L // проверили правый, совпал, идем обратно

// код для похода обратно
0q5->0q5L
1q5->1q5L
Bq5->Bq2R

// осталась пустая строка -- вернем 1
Bq2->1STOPL

// остался один символ (т.е. правого нет)
Bq7->1STOPL
Bq4->1STOPL

// слово не палиндром, возвращаем 0
0q4->Bq8L
1q7->Bq8L
1q8->Bq8L
0q8->Bq8L
Bq8->0STOPL
```

# Задача 3

Дана примитивно рекурсивная функция g. Докажите, что следующая функция является примитивно рекурсивной:
```
nt(x, y) = количество натуральных чисел i из отрезка [0, y], для которых g(i) = x
```
За знак "-" я буду принимать операцию ограниченного вычитания.
```
nt(x, 0) = f(x, 0)
nt(x, y + 1) = nt(x, y) + f(x, y + 1)

f(x, y) = (1 - sg(x - g(y))) * (1 - sg(g(y) - x))
```
f(x, y) -- функция, которая возвращает 1 тогда и только тогда, когда x = g(y)

Операции -, sg(x), g(x), *, +, f(x, y) -- примитивно рекурсивны, их композиция тоже.

# Задача 4

Доказать, что sqrt(x) = [x^0.5] является примитивно рекурсивной.

За знак "-" я буду принимать операцию ограниченного вычитания.
```
sqrt(x) = f(x, x)

f(x, 0) = 0
f(x, y + 1) = f(x, y) + sg(x - S(y)*S(y))
```
Операции sg(x), -, +, *, S(x) -- примитивно рекурсивны, и их композиция тоже примитивно рекурсивна.

Рассмотрим x = 3
```
sqrt(3) = f(3, 3) = f(3, 2) + sg(3 - 9) = f(3, 1) + sg(3 - 4) + sg(3 - 9) = f(3, 0) + sg(3 - 1) + sg(3 - 4) + sg(3 - 9) = 0 + 1 + 0 + 0 = 1
```

# Задача 5

Задачи 5 и 6 удобно проверять здесь: https://sites.oxy.edu/rnaimi/home/URMsim.htm

```
1:Z(2)
2:Z(3)
3:J(1,2,11)
4:S(2)
5:J(1,2,12)
6:S(3)
7:S(2)
8:S(3)
9:J(1,2,11)
10:J(1,1,4)
11:S(3)
12:T(3,1)
```

# Задача 6

ADD(x, y, z) = r_z := r_x + r_y

```
1:S(2)
2:ADD(2,4,4)
3:J(5,1,10)
4:S(5)
5:J(4,5,7)
6:J(1,1,3)
7:ADD(2,4,4)
8:S(3)
9:J(1,1,3)
10:T(3,1)
```
